{
  "type": "architecture",
  "groups": [
    {
      "id": "clientLayer",
      "label": "Client Layer",
      "icon": "fa:fa-desktop",
      "parent": null,
      "description": "User-facing applications and interfaces for web and mobile platforms."
    },
    {
      "id": "apiGateway",
      "label": "API Gateway & Load Balancing",
      "icon": "fa:fa-network-wired",
      "parent": null,
      "description": "Entry point for all client requests with load balancing and routing capabilities."
    },
    {
      "id": "authLayer",
      "label": "Authentication & Authorization",
      "icon": "fa:fa-shield-halved",
      "parent": null,
      "description": "Security layer handling user authentication, authorization, and session management."
    },
    {
      "id": "applicationLayer",
      "label": "Application Services",
      "icon": "fa:fa-server",
      "parent": null,
      "description": "Core business logic and API endpoints for the application."
    },
    {
      "id": "dataLayer",
      "label": "Data Layer",
      "icon": "fa:fa-database",
      "parent": null,
      "description": "Persistent storage including SQL, NoSQL, and caching solutions."
    },
    {
      "id": "messageQueue",
      "label": "Message Queue & Workers",
      "icon": "fa:fa-message",
      "parent": null,
      "description": "Asynchronous job processing and message queue systems."
    },
    {
      "id": "externalServices",
      "label": "External Services",
      "icon": "fa:fa-cloud",
      "parent": null,
      "description": "Third-party integrations and external APIs."
    }
  ],
  "groupEdges": [
    {
      "from": "clientLayer",
      "to": "apiGateway",
      "label": "All client requests route through API gateway for load balancing and authentication."
    },
    {
      "from": "apiGateway",
      "to": "authLayer",
      "label": "Gateway validates authentication tokens before forwarding requests."
    },
    {
      "from": "authLayer",
      "to": "applicationLayer",
      "label": "Authenticated requests are routed to appropriate application services."
    },
    {
      "from": "applicationLayer",
      "to": "dataLayer & messageQueue",
      "label": "Services interact with databases for persistence and queue for async processing."
    },
    {
      "from": "messageQueue",
      "to": "externalServices",
      "label": "Background workers call external APIs for email, payments, and notifications."
    },
    {
      "from": "applicationLayer",
      "to": "externalServices",
      "label": "Direct API calls to external services for real-time operations."
    }
  ],
  "services": [
    {
      "id": "WEBAPP",
      "label": "React Web Application",
      "group": "clientLayer",
      "icon": "simple-icons:react",
      "status": "functional",
      "role": "client",
      "description": "Main web application built with React, TypeScript, and Tailwind CSS. Handles user interactions and communicates with backend via REST APIs.",
      "type": "Frontend Application",
      "functions": [
        {
          "name": "User Interface Rendering",
          "description": "Renders dynamic UI components based on user state and API responses.",
          "input": [
            {
              "name": "User Input",
              "type": "object",
              "description": "User interactions like clicks, form submissions, and navigation."
            },
            {
              "name": "API Responses",
              "type": "object",
              "description": "Data received from backend APIs."
            }
          ],
          "output": [
            {
              "name": "Rendered UI",
              "type": "DOM",
              "description": "Dynamic HTML rendered in the browser."
            }
          ]
        },
        {
          "name": "State Management",
          "description": "Manages application state using React Context and Redux.",
          "input": [
            {
              "name": "State Updates",
              "type": "object",
              "description": "Changes to application state from user actions or API calls."
            }
          ],
          "output": [
            {
              "name": "Updated State",
              "type": "object",
              "description": "New application state triggering UI re-renders."
            }
          ]
        }
      ],
      "input": [
        {
          "name": "User Actions",
          "description": "User interactions with the web interface.",
          "type": "object",
          "properties": [
            {
              "name": "eventType",
              "type": "string",
              "example": "click",
              "description": "Type of user interaction (click, submit, scroll, etc.)."
            },
            {
              "name": "payload",
              "type": "object",
              "description": "Data associated with the user action.",
              "optional": true
            }
          ]
        }
      ],
      "output": [
        {
          "name": "API Requests",
          "description": "HTTP requests sent to the backend API.",
          "type": "object",
          "properties": [
            {
              "name": "endpoint",
              "type": "string",
              "example": "/api/users"
            },
            {
              "name": "method",
              "type": "string",
              "example": "GET"
            },
            {
              "name": "headers",
              "type": "object",
              "properties": [
                {
                  "name": "Authorization",
                  "type": "string",
                  "example": "Bearer token123"
                }
              ]
            },
            {
              "name": "body",
              "type": "object",
              "optional": true
            }
          ]
        }
      ]
    },
    {
      "id": "MOBILE",
      "label": "React Native Mobile App",
      "group": "clientLayer",
      "icon": "simple-icons:react",
      "status": "inProgress",
      "role": "client",
      "description": "Cross-platform mobile application for iOS and Android built with React Native.",
      "type": "Mobile Application",
      "functions": [
        {
          "name": "Mobile UI Rendering",
          "description": "Renders native mobile components based on user state.",
          "input": [
            {
              "name": "User Input",
              "type": "object"
            }
          ],
          "output": [
            {
              "name": "Native Components",
              "type": "Native UI",
              "description": "Rendered mobile UI elements."
            }
          ]
        }
      ],
      "input": [
        {
          "name": "User Actions",
          "description": "Mobile-specific user interactions like gestures and taps.",
          "type": "object"
        }
      ],
      "output": [
        {
          "name": "API Requests",
          "description": "HTTP requests to backend services.",
          "type": "object"
        }
      ]
    },
    {
      "id": "NGINX",
      "label": "NGINX Load Balancer",
      "group": "apiGateway",
      "icon": "simple-icons:nginx",
      "status": "functional",
      "role": "loadBalancer",
      "description": "NGINX load balancer distributing traffic across multiple application server instances with health checks and SSL termination.",
      "type": "Load Balancer",
      "functions": [
        {
          "name": "Load Distribution",
          "description": "Distributes incoming requests across healthy backend servers using round-robin algorithm.",
          "input": [
            {
              "name": "HTTP Request",
              "type": "object",
              "description": "Incoming client request."
            }
          ],
          "output": [
            {
              "name": "Forwarded Request",
              "type": "object",
              "description": "Request routed to a healthy backend server."
            }
          ]
        },
        {
          "name": "Health Checks",
          "description": "Monitors backend server health and removes unhealthy instances from rotation.",
          "input": [
            {
              "name": "Server Pool",
              "type": "array",
              "description": "List of backend servers to monitor."
            }
          ],
          "output": [
            {
              "name": "Healthy Servers",
              "type": "array",
              "description": "List of servers passing health checks."
            }
          ]
        }
      ],
      "input": [
        {
          "name": "Client Requests",
          "description": "All incoming HTTP/HTTPS requests from clients.",
          "type": "object",
          "properties": [
            {
              "name": "url",
              "type": "string"
            },
            {
              "name": "method",
              "type": "string"
            },
            {
              "name": "headers",
              "type": "object"
            },
            {
              "name": "body",
              "type": "object",
              "optional": true
            }
          ]
        }
      ],
      "output": [
        {
          "name": "Routed Requests",
          "description": "Requests forwarded to backend application servers.",
          "type": "object"
        }
      ]
    },
    {
      "id": "APIGATE",
      "label": "API Gateway",
      "group": "apiGateway",
      "icon": "material-symbols-light:api",
      "status": "functional",
      "role": "api",
      "description": "Central API gateway handling request routing, rate limiting, and API versioning.",
      "type": "API Gateway",
      "functions": [
        {
          "name": "Request Routing",
          "description": "Routes requests to appropriate microservices based on path and method.",
          "input": [
            {
              "name": "HTTP Request",
              "type": "object"
            }
          ],
          "output": [
            {
              "name": "Service Request",
              "type": "object",
              "description": "Request forwarded to the correct microservice."
            }
          ]
        },
        {
          "name": "Rate Limiting",
          "description": "Enforces API rate limits per client to prevent abuse.",
          "input": [
            {
              "name": "Client Identifier",
              "type": "string"
            }
          ],
          "output": [
            {
              "name": "Rate Limit Status",
              "type": "object",
              "description": "Current rate limit usage and remaining quota."
            }
          ]
        }
      ],
      "input": [
        {
          "name": "API Requests",
          "description": "HTTP requests from the load balancer.",
          "type": "object"
        }
      ],
      "output": [
        {
          "name": "Service Requests",
          "description": "Requests routed to backend services.",
          "type": "object"
        }
      ]
    },
    {
      "id": "AUTHSVC",
      "label": "Authentication Service",
      "group": "authLayer",
      "icon": "material-symbols-light:lock-outline",
      "status": "functional",
      "role": "service",
      "description": "Handles user authentication using JWT tokens, OAuth2, and session management.",
      "type": "Microservice",
      "functions": [
        {
          "name": "User Login",
          "description": "Authenticates user credentials and issues JWT tokens.",
          "input": [
            {
              "name": "Credentials",
              "type": "object",
              "description": "Username/email and password."
            }
          ],
          "output": [
            {
              "name": "JWT Token",
              "type": "string",
              "description": "Signed JWT token for authenticated sessions."
            }
          ]
        },
        {
          "name": "Token Validation",
          "description": "Validates JWT tokens and returns user identity.",
          "input": [
            {
              "name": "JWT Token",
              "type": "string"
            }
          ],
          "output": [
            {
              "name": "User Identity",
              "type": "object",
              "description": "User ID and permissions extracted from token."
            }
          ]
        }
      ],
      "input": [
        {
          "name": "Authentication Request",
          "description": "User login credentials or token validation request.",
          "type": "object",
          "properties": [
            {
              "name": "email",
              "type": "string",
              "example": "user@example.com"
            },
            {
              "name": "password",
              "type": "string",
              "example": "securePassword123"
            }
          ]
        }
      ],
      "output": [
        {
          "name": "Authentication Response",
          "description": "JWT token and user information upon successful authentication.",
          "type": "object",
          "properties": [
            {
              "name": "token",
              "type": "string",
              "description": "JWT access token."
            },
            {
              "name": "refreshToken",
              "type": "string",
              "description": "Refresh token for obtaining new access tokens."
            },
            {
              "name": "user",
              "type": "object",
              "properties": [
                {
                  "name": "id",
                  "type": "string"
                },
                {
                  "name": "email",
                  "type": "string"
                },
                {
                  "name": "roles",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "USERSVC",
      "label": "User Service",
      "group": "applicationLayer",
      "icon": "material-symbols-light:person-outline",
      "status": "functional",
      "role": "service",
      "description": "Manages user profiles, preferences, and account settings.",
      "type": "Microservice",
      "functions": [
        {
          "name": "Get User Profile",
          "description": "Retrieves user profile information by user ID.",
          "input": [
            {
              "name": "User ID",
              "type": "string"
            }
          ],
          "output": [
            {
              "name": "User Profile",
              "type": "object",
              "description": "Complete user profile data."
            }
          ]
        },
        {
          "name": "Update User Profile",
          "description": "Updates user profile fields.",
          "input": [
            {
              "name": "User ID",
              "type": "string"
            },
            {
              "name": "Profile Updates",
              "type": "object"
            }
          ],
          "output": [
            {
              "name": "Updated Profile",
              "type": "object"
            }
          ]
        }
      ],
      "input": [
        {
          "name": "User Request",
          "description": "Request to fetch or update user data.",
          "type": "object",
          "properties": [
            {
              "name": "userId",
              "type": "string"
            },
            {
              "name": "operation",
              "type": "string",
              "example": "get"
            }
          ]
        }
      ],
      "output": [
        {
          "name": "User Data",
          "description": "User profile information.",
          "type": "object",
          "properties": [
            {
              "name": "id",
              "type": "string"
            },
            {
              "name": "email",
              "type": "string"
            },
            {
              "name": "firstName",
              "type": "string"
            },
            {
              "name": "lastName",
              "type": "string"
            },
            {
              "name": "createdAt",
              "type": "string"
            }
          ]
        }
      ]
    },
    {
      "id": "CONTENTSVC",
      "label": "Content Service",
      "group": "applicationLayer",
      "icon": "material-symbols-light:article-outline",
      "status": "functional",
      "role": "service",
      "description": "Manages application content including posts, comments, and media uploads.",
      "type": "Microservice",
      "functions": [
        {
          "name": "Create Content",
          "description": "Creates new content items with metadata and associations.",
          "input": [
            {
              "name": "Content Data",
              "type": "object"
            }
          ],
          "output": [
            {
              "name": "Created Content",
              "type": "object",
              "description": "Newly created content with ID and timestamps."
            }
          ]
        },
        {
          "name": "Search Content",
          "description": "Full-text search across content with filters.",
          "input": [
            {
              "name": "Search Query",
              "type": "string"
            },
            {
              "name": "Filters",
              "type": "object"
            }
          ],
          "output": [
            {
              "name": "Search Results",
              "type": "array",
              "description": "Paginated list of matching content items."
            }
          ]
        }
      ],
      "input": [
        {
          "name": "Content Request",
          "description": "Request to create, update, or fetch content.",
          "type": "object"
        }
      ],
      "output": [
        {
          "name": "Content Response",
          "description": "Content data or operation result.",
          "type": "object"
        }
      ]
    },
    {
      "id": "NOTIFYSVC",
      "label": "Notification Service",
      "group": "applicationLayer",
      "icon": "material-symbols-light:notifications-outline",
      "status": "inProgress",
      "role": "service",
      "description": "Handles real-time notifications via WebSockets, push notifications, and email alerts.",
      "type": "Microservice",
      "functions": [
        {
          "name": "Send Notification",
          "description": "Sends notifications through configured channels.",
          "input": [
            {
              "name": "Notification Data",
              "type": "object"
            }
          ],
          "output": [
            {
              "name": "Delivery Status",
              "type": "object",
              "description": "Status of notification delivery across channels."
            }
          ]
        }
      ],
      "input": [
        {
          "name": "Notification Request",
          "description": "Request to send notifications to users.",
          "type": "object",
          "properties": [
            {
              "name": "userId",
              "type": "string"
            },
            {
              "name": "message",
              "type": "string"
            },
            {
              "name": "channels",
              "type": "array",
              "items": {
                "type": "string"
              },
              "example": ["email", "push", "websocket"]
            }
          ]
        }
      ],
      "output": [
        {
          "name": "Notification Result",
          "description": "Delivery confirmation for each channel.",
          "type": "object"
        }
      ]
    },
    {
      "id": "POSTGRES",
      "label": "PostgreSQL Database",
      "group": "dataLayer",
      "icon": "simple-icons:postgresql",
      "status": "functional",
      "role": "storage",
      "description": "Primary relational database for structured data including users, content, and relationships.",
      "type": "SQL Database",
      "functions": [],
      "input": [],
      "output": []
    },
    {
      "id": "REDIS",
      "label": "Redis Cache",
      "group": "dataLayer",
      "icon": "simple-icons:redis",
      "status": "functional",
      "role": "cache",
      "description": "In-memory cache for session data, API responses, and frequently accessed data.",
      "type": "Cache",
      "functions": [],
      "input": [],
      "output": []
    },
    {
      "id": "MONGODB",
      "label": "MongoDB",
      "group": "dataLayer",
      "icon": "simple-icons:mongodb",
      "status": "functional",
      "role": "storage",
      "description": "NoSQL database for unstructured data, logs, and analytics.",
      "type": "NoSQL Database",
      "functions": [],
      "input": [],
      "output": []
    },
    {
      "id": "RABBITMQ",
      "label": "RabbitMQ",
      "group": "messageQueue",
      "icon": "simple-icons:rabbitmq",
      "status": "functional",
      "role": "messageQueue",
      "description": "Message broker for asynchronous task processing and inter-service communication.",
      "type": "Message Queue",
      "functions": [],
      "input": [],
      "output": []
    },
    {
      "id": "EMAILWORKER",
      "label": "Email Worker",
      "group": "messageQueue",
      "icon": "material-symbols-light:mail-outline",
      "status": "functional",
      "role": "worker",
      "description": "Background worker processing email sending jobs from the queue.",
      "type": "Worker Service",
      "functions": [
        {
          "name": "Process Email Jobs",
          "description": "Consumes email jobs from queue and sends via SMTP.",
          "input": [
            {
              "name": "Email Job",
              "type": "object"
            }
          ],
          "output": [
            {
              "name": "Send Status",
              "type": "object",
              "description": "Email delivery status."
            }
          ]
        }
      ],
      "input": [
        {
          "name": "Queue Message",
          "description": "Email job from RabbitMQ.",
          "type": "object",
          "properties": [
            {
              "name": "to",
              "type": "string"
            },
            {
              "name": "subject",
              "type": "string"
            },
            {
              "name": "body",
              "type": "string"
            },
            {
              "name": "template",
              "type": "string",
              "optional": true
            }
          ]
        }
      ],
      "output": [
        {
          "name": "Delivery Confirmation",
          "description": "Email sent confirmation.",
          "type": "object"
        }
      ]
    },
    {
      "id": "IMGWORKER",
      "label": "Image Processing Worker",
      "group": "messageQueue",
      "icon": "material-symbols-light:image-outline",
      "status": "notStarted",
      "role": "worker",
      "description": "Background worker for image resizing, compression, and thumbnail generation.",
      "type": "Worker Service",
      "functions": [
        {
          "name": "Process Image",
          "description": "Resizes, compresses, and generates thumbnails for uploaded images.",
          "input": [
            {
              "name": "Image Job",
              "type": "object"
            }
          ],
          "output": [
            {
              "name": "Processed Images",
              "type": "object",
              "description": "URLs of processed image variants."
            }
          ]
        }
      ],
      "input": [
        {
          "name": "Queue Message",
          "description": "Image processing job from RabbitMQ.",
          "type": "object"
        }
      ],
      "output": [
        {
          "name": "Processing Result",
          "description": "Processed image URLs and metadata.",
          "type": "object"
        }
      ]
    },
    {
      "id": "SENDGRID",
      "label": "SendGrid Email API",
      "group": "externalServices",
      "icon": "simple-icons:twilio",
      "status": "functional",
      "role": "external",
      "description": "Third-party email delivery service for transactional emails.",
      "type": "External API",
      "functions": [],
      "input": [],
      "output": []
    },
    {
      "id": "STRIPE",
      "label": "Stripe Payment API",
      "group": "externalServices",
      "icon": "simple-icons:stripe",
      "status": "functional",
      "role": "external",
      "description": "Payment processing service for subscriptions and one-time purchases.",
      "type": "External API",
      "functions": [],
      "input": [],
      "output": []
    },
    {
      "id": "S3",
      "label": "AWS S3 Storage",
      "group": "externalServices",
      "icon": "simple-icons:amazons3",
      "status": "functional",
      "role": "external",
      "description": "Cloud object storage for user uploads, media files, and backups.",
      "type": "External Storage",
      "functions": [],
      "input": [],
      "output": []
    }
  ],
  "edges": [
    {
      "from": "WEBAPP",
      "to": "NGINX",
      "label": "Web app sends HTTP requests through load balancer."
    },
    {
      "from": "MOBILE",
      "to": "NGINX",
      "label": "Mobile app sends HTTP requests through load balancer."
    },
    {
      "from": "NGINX",
      "to": "APIGATE",
      "label": "Load balancer distributes requests to API gateway instances."
    },
    {
      "from": "APIGATE",
      "to": "AUTHSVC",
      "label": "Gateway validates authentication tokens with auth service."
    },
    {
      "from": "AUTHSVC",
      "to": "POSTGRES",
      "label": "Auth service reads/writes user credentials and sessions to PostgreSQL."
    },
    {
      "from": "AUTHSVC",
      "to": "REDIS",
      "label": "Auth service caches session tokens in Redis for fast validation."
    },
    {
      "from": "APIGATE",
      "to": "USERSVC",
      "label": "Authenticated user requests routed to user service."
    },
    {
      "from": "APIGATE",
      "to": "CONTENTSVC",
      "label": "Content requests routed to content service."
    },
    {
      "from": "USERSVC",
      "to": "POSTGRES",
      "label": "User service stores profile data in PostgreSQL."
    },
    {
      "from": "USERSVC",
      "to": "REDIS",
      "label": "User service caches profile data in Redis."
    },
    {
      "from": "CONTENTSVC",
      "to": "POSTGRES",
      "label": "Content service stores structured content in PostgreSQL."
    },
    {
      "from": "CONTENTSVC",
      "to": "MONGODB",
      "label": "Content service stores unstructured metadata in MongoDB."
    },
    {
      "from": "CONTENTSVC",
      "to": "RABBITMQ",
      "label": "Content service queues image processing and notification jobs."
    },
    {
      "from": "NOTIFYSVC",
      "to": "RABBITMQ",
      "label": "Notification service publishes notification jobs to queue."
    },
    {
      "from": "RABBITMQ",
      "to": "EMAILWORKER",
      "label": "Email worker consumes email jobs from queue."
    },
    {
      "from": "RABBITMQ",
      "to": "IMGWORKER",
      "label": "Image worker consumes image processing jobs from queue."
    },
    {
      "from": "EMAILWORKER",
      "to": "SENDGRID",
      "label": "Email worker sends emails via SendGrid API."
    },
    {
      "from": "IMGWORKER",
      "to": "S3",
      "label": "Image worker uploads processed images to S3."
    },
    {
      "from": "CONTENTSVC",
      "to": "S3",
      "label": "Content service stores user uploads directly to S3."
    },
    {
      "from": "USERSVC",
      "to": "STRIPE",
      "label": "User service processes payments through Stripe API."
    }
  ]
}
